local Lib = loadstring("https://raw.githubusercontent.com/7yhx/kwargs_Ui_Library/main/source.lua")()

local UI = Lib:Create{
   Theme = "Dark", -- or any other theme
   Size = UDim2.new(0, 555, 0, 400) -- default
}

local Main = UI:Tab{
   Name = "Main"
}

local Divider = Main:Divider{
   Name = "Main shit"
}

local QuitDivider = Main:Divider{
   Name = "Quit"
}

-- All functions have the Name, Description and Callback arguments so you can use them whenever ig yeah
local KillAll = Divider:Button{
   Name = "ESP",
   Description = "ESP",
   Callback = function()
      local corInimiga = Color3.new(1, 0, 0)
      local corAmiga = Color3.new(0, 0, 1)
      local corALZN = Color3.new(0, 1, 1)

      local fov = 90

      local function desenharSeta(jogador)
          local posicao = workspace.CurrentCamera:WorldToScreenPoint(jogador.Character.HumanoidRootPart.Position)
          if posicao.Z > 0 then
              local seta = Instance.new("ImageLabel")
              seta.Image = "rbxassetid://123456789"
              seta.Size = UDim2.new(0, 50, 0, 50)
              seta.Position = UDim2.new(0, posicao.X - 25, 0, posicao.Y - 25)
              seta.Parent = game.Players.LocalPlayer.PlayerGui
              if jogador.TeamColor == game.Players.LocalPlayer.TeamColor then
                  seta.ImageColor3 = corAmiga
              else
                  seta.ImageColor3 = corInimiga
              end
              return seta
          else
              return nil
          end
      end

      local function desenharFOV(jogador)
          local posicao = workspace.CurrentCamera:WorldToScreenPoint(jogador.Character.HumanoidRootPart.Position)
          if posicao.Z > 0 then
              local distancia = (jogador.Character.HumanoidRootPart.Position - workspace.CurrentCamera.CFrame.p).Magnitude
              local tamanho = math.tan(math.rad(fov / 2)) * distancia * 2
              local fov = Instance.new("ImageLabel")
              fov.Image = "rbxassetid://987654321"
              fov.Size = UDim2.new(0, tamanho, 0, tamanho)
              fov.Position = UDim2.new(0, posicao.X - tamanho / 2, 0, posicao.Y - tamanho / 2)
              fov.Parent = game.Players.LocalPlayer.PlayerGui
              local texto = Instance.new("TextLabel")
              texto.Text = "ALZN"
              texto.Font = Enum.Font.SourceSansBold
              texto.TextSize = 24
              texto.TextColor3 = corALZN
              texto.Size = UDim2.new(0, 50, 0, 25)
              texto.Position = UDim2.new(0, posicao.X - 25, 0, posicao.Y - tamanho / 2 - 25)
              texto.Parent = game.Players.LocalPlayer.PlayerGui
              return fov, texto
          else
              return nil
          end
      end

      local setas = {}
      local fovs = {}

      while true do
          for i, jogador in pairs(game.Players:GetPlayers()) do
              if jogador ~= game.Players.LocalPlayer then
                  if jogador.Character and jogador.Character:FindFirstChild("Humanoid") and jogador.Character.Humanoid.Health > 0 then
                      if not setas[jogador] then
                          setas[jogador] = desenharSeta(jogador)
                      end
                      if not fovs[jogador] then
                          fovs[jogador] = {desenharFOV(jogador)}
                      end
                  else
                      if setas[jogador] then
                          setas[jogador]:Destroy()
                          setas[jogador] = nil
                      end
                      if fovs[jogador] then
                          fovs[jogador][1]:Destroy()
                          fovs[jogador][2]:Destroy()
                          fovs[jogador] = nil
                      end
                  end
              end
          end
          wait(0.1)
      end
   end
}

local LoopKillAll = Divider:Toggle{
   Name = "Loop kill all",
   Description = "Loop kills everyone in the game.",
   Callback = function(State)
       print("Kill state: ", State)
   end
}

local OtherToggleStyle = Divider:Toggle{
   Name = "2nd style of toggle",
   Style = 2
}

local Players = Divider:Dropdown{
   Name = "Player list",
   Options = {"Player1", "Player2", "Player3", "Player4", "Player5"},
   Callback = function(Option)
       print("Selected option: ", Option)
   end
}
